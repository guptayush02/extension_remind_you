(this.webpackJsonpextension_remind_you=this.webpackJsonpextension_remind_you||[]).push([[0],{15:function(e,t){e.exports={getCalenderList:function(){var e=localStorage.getItem("me");return new Promise((function(t,n){if(e=JSON.parse(e)){var r={"Content-Type":"application/json",Authorization:"Bearer ".concat(e.g.tokenObj.access_token)};fetch("https://www.googleapis.com/calendar/v3/users/me/calendarList",{headers:r}).then((function(e,r){return r?n(r):t(e.json())}))}}))},getEventsList:function(e){var t=localStorage.getItem("me");return new Promise((function(n,r){if(t=JSON.parse(t)){var a={"Content-Type":"application/json",Authorization:"Bearer ".concat(t.g.tokenObj.access_token)},c=new Date;c.setDate(c.getDate()+parseInt(2)),c=c.toISOString();var o=(new Date).toISOString();fetch("https://www.googleapis.com/calendar/v3/calendars/".concat(e,"/events?alwaysIncludeEmail=",!0,"&showDeleted=",!1,"&singleEvents=",!0,"&timeMax=").concat(c,"&timeMin=").concat(o,"&alt=json&showHiddenInvitations=",!0,"&orderBy=startTime"),{headers:a}).then((function(e,t){return t?r(t):n(e.json())}))}}))}}},27:function(e,t,n){},28:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),s=(n(27),n.p,n(28),n(10)),i=n(12),u=n(2),l=function(){return!!localStorage.getItem("me")},j=n(4),d=n.n(j),f=n(8),m=n(14),p=n(1);var b=function(){var e=function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=2;break}return e.abrupt("return",console.log("google login error",t.error));case 2:n={g:t},localStorage.setItem("me",JSON.stringify(n)),window.location.pathname="/calender-list";case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(m.GoogleLogin,{clientId:"342904767681-rq5imdjo21kc7v57ujb3nbfq99dau4pd.apps.googleusercontent.com",buttonText:"Login",onSuccess:e,onFailure:e,cookiePolicy:"single_host_origin",isSignedIn:!0,scope:"https://www.googleapis.com/auth/calendar"})},h=Object(u.g)((function(e){var t=e.history,n=e.title,r=e.back,a=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("me"),localStorage.removeItem("events"),window.location.pathname="/";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.push("/calender-list");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[n,r&&Object(p.jsx)("div",{onClick:function(){return c()},children:"Back"}),Object(p.jsx)(m.GoogleLogout,{clientId:"342904767681-rq5imdjo21kc7v57ujb3nbfq99dau4pd.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:a})]})})),g=n(15),O=n.n(g),v=Object(u.g)((function(e){var t=e.history,n=Object(r.useState)([]),a=Object(s.a)(n,2),c=a[0],o=a[1];Object(r.useEffect)((function(){i()}),[]);var i=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.getCalenderList();case 3:t=e.sent,o(t.items),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err in calender list",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(f.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("enter calender",n),t.push("/events",{id:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)(h,{title:"CalenderList",back:!1}),c&&c.length>0?c.map((function(e,t){return Object(p.jsxs)("div",{onClick:function(){return u(e.id)},children:["id: ",e.id," ",Object(p.jsx)("br",{}),"Role: ",e.accessRole," ",Object(p.jsx)("br",{}),"Description: ",e.description," ",Object(p.jsx)("br",{}),"Summary: ",e.summary,Object(p.jsx)("hr",{})]},t)})):Object(p.jsx)("p",{children:"Calender list not found"})]})})),x=n(9),w=n.n(x),k=function(){var e=localStorage.getItem("events");(e=JSON.parse(e))&&e.map((function(e,t){var n=w()(e.start_time).format("DD-MM-YYYY"),r=w()().format("DD-MM-YYYY");if(console.log("same date",n===r),n===r){console.log("date match");var a=w()().format("hh:mm:ss a"),c=w()(e.start_time).format("hh:mm:ss a");if(c>=a){console.log("start time is greater and equal to current time");w()(c).diff(a,"milliseconds");console.log("===>",c-a)}console.log("start time",c),console.log("current time",a)}}))},S=Object(u.g)((function(e){var t=e.history,n=Object(u.f)();if(!n.state)return t.push("/calender-list");var a=n.state.id,c=Object(r.useState)(a),o=Object(s.a)(c,2),i=o[0],l=(o[1],Object(r.useState)([])),j=Object(s.a)(l,2),m=j[0],b=j[1];Object(r.useEffect)((function(){g()}),[]);var g=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.getEventsList(i);case 3:t=e.sent,b(t.items),n=[],t.items.map((function(e){return n.push({summary:e.summary,status:e.status,start_time:e.start.dateTime,end_time:e.end.dateTime,hangoutLink:e.hangoutLink||null})})),localStorage.setItem("events",JSON.stringify(n)),k(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("err in events component",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("open meet"),!t.hangoutLink){e.next=3;break}return e.abrupt("return",window.open(t.hangoutLink,"_blank"));case 3:return e.abrupt("return",console.log("meet link not found"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{children:[Object(p.jsx)(h,{title:"Events",back:!0}),m&&m.length>0?m.map((function(e,t){return Object(p.jsxs)("div",{onClick:function(){return v(e)},children:["creator: ",e.creator.email," ",Object(p.jsx)("br",{}),"summary: ",e.summary," ",Object(p.jsx)("br",{}),"status: ",e.status," ",Object(p.jsx)("br",{}),"start time: ",w()(e.start.dateTime).format("MMMM DD - YYYY, h:mm:ss a")," ",Object(p.jsx)("br",{}),"end time: ",w()(e.end.dateTime).format("MMMM DD - YYYY, h:mm:ss a")," ",Object(p.jsx)("br",{}),"hangoutLink: ",e.hangoutLink||"N/A"," ",Object(p.jsx)("br",{}),"attendees: ",e.attendees.map((function(e,t){return Object(p.jsxs)("div",{children:["email: ",e.email," ",Object(p.jsx)("br",{}),"responseStatus: ",e.responseStatus]},t)})),Object(p.jsx)("hr",{})]},t)})):Object(p.jsx)("p",{children:"Events list not found"})]})})),y=function(e){e.history;var t=Object(r.useState)(!1),n=Object(s.a)(t,2),a=(n[0],n[1]);return Object(r.useEffect)((function(){a(l())}),[]),Object(p.jsx)(i.a,{children:Object(p.jsx)("div",{children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{exact:!0,path:"/",children:Object(p.jsx)(b,{})}),Object(p.jsx)(u.a,{path:"/calender-list",children:Object(p.jsx)(v,{})}),Object(p.jsx)(u.a,{path:"/events",children:Object(p.jsx)(S,{})})]})})})};var L=function(){return Object(r.useEffect)((function(){k()}),[]),Object(p.jsx)("div",{className:"App",children:Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(y,{})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),I()}},[[37,1,2]]]);